<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts :: header"></head>

<nav th:replace="layouts:: navbar"></nav>

<body>



<div class="container">

<h3>Main Dashboard</h3>
<a th:text="${versionNumber}"></a>



<hr>


<h4> Current Projects</h4>
<div class="row">
	<div class="col-md-6">

	<table class="table table-bordered tabled-striped">
		<thead class="thead-dark">
			<tr> 
				<th> Project Name</th>
				<th> Project Stage</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="aProject : ${projects}">
				<td th:text="${aProject.name}"/> 
				<td th:text="${aProject.stage}"/> 
			</tr>
		</tbody>
	</table>
	</div>


<div class="col-md-4">
	<canvas id="myPieChart" height="58" width="50"></canvas>
	 
	 <script type="text/javascript">
	 	var chartData = "[[${projectStatusCnt}]]"
	 </script>
</div>

</div>
</div>	

<div class="container">


<h4> Current Employees</h4>
<div class="row">
	<div class="col-md-6">

	<table class="table table-bordered tabled-striped">
		<thead class="thead-dark">
			<tr> 
				<th> Employee First Name</th>
				<th> Employee Last Name</th>
				<th> Employee Project Count</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="aEmployeeProjectCount : ${employeeListProjectsCount}">
				<td th:text="${aEmployeeProjectCount.firstName}"/> 
				<td th:text="${aEmployeeProjectCount.lastName}"/> 
				<td th:text="${aEmployeeProjectCount.projectCount}"/> 
			</tr>
		</tbody>
	</table>
	</div>
</div>	



</div>

<script type="text/javascript" th:src="@{js/myChart.js}"></script>
</body>

</html>